!function(t){"function"==typeof define&&define.amd?define(t):t()}((function(){"use strict";Uint8Array.prototype.fill||(Uint8Array.prototype.fill=Array.prototype.fill);for(var t=performance.now(),e=100,n=[],r=[],a=[],o=[],i=ristretto255.unsafe.point.alloc(),s=0;s<e;s++){var u=ristretto255.unsafe.point.getRandom();n.push(u),r.push(ristretto255.unsafe.point.toBytes(u));for(var c=new Uint8Array(32),p=0;p<32;p++)c[p]=s;a.push(c),o.push(ristretto255.scalar.getRandom())}function l(t){return t.reduce((function(t,e){return t+e}),0)/t.length}[{name:"High-level ristretto255 group operations",functions:[{name:"getRandom",description:"Generate a random group element",execute:function(){return ristretto255.getRandom()}},{name:"isValid",description:"Check if a value represents a valid element",execute:function(t){return ristretto255.isValid(r[t])}},{name:"fromHash",description:"Hash to group: generate a group element from 64-element byte array, e.g. an output of SHA-512",execute:function(t){return ristretto255.fromHash(a[t])}},{name:"add",description:"Add two group elements",execute:function(t){return ristretto255.add(r[t],r[(t+1)%e])}},{name:"sub",description:"Subtract two group elements",execute:function(t){return ristretto255.sub(r[t],r[(t+1)%e])}},{name:"scalarMultBase",description:"Multiply a generator of the group by a scalar",execute:function(t){return ristretto255.scalarMultBase(o[t])}},{name:"scalarMult",description:"Multiply a group element by a scalar",execute:function(t){return ristretto255.scalarMult(o[t],r[t])}}]},{name:"Scalar operations",functions:[{name:"scalar.getRandom",description:"Generate a random scalar",execute:function(){return ristretto255.scalar.getRandom()}},{name:"scalar.invert",description:"Invert a scalar",execute:function(t){return ristretto255.scalar.invert(o[t])}},{name:"scalar.negate",description:"Negate a scalar",execute:function(t){return ristretto255.scalar.negate(o[t],o[t%e])}},{name:"scalar.add",description:"Add two scalars",execute:function(t){return ristretto255.scalar.add(o[t],o[t%e])}},{name:"scalar.sub",description:"Subtract two scalars",execute:function(t){return ristretto255.scalar.sub(o[t],o[t%e])}},{name:"scalar.mul",description:"Multiply two scalars",execute:function(t){return ristretto255.scalar.mul(o[t],o[t%e])}}]},{name:"Low-level unsafe functions (unless if used by a cryptographer)",functions:[{name:"unsafe.point.toBytes",description:"Serialize a curve25519 point to ristretto255 group element",execute:function(t){return ristretto255.unsafe.point.toBytes(n[t])}},{name:"unsafe.point.fromBytes",description:"Deserialize a curve25519 point from ristretto255 group element",execute:function(t){return ristretto255.unsafe.point.fromBytes(i,r[t])}},{name:"unsafe.point.getRandom",description:"Generate a random ristretto255 group element represented as curve25519 point",execute:function(){return ristretto255.unsafe.point.getRandom()}},{name:"unsafe.point.fromHash",description:"Generate a ristretto255 group element represented as curve25519 point from a 64 elements byte array such as an output of SHA512",execute:function(t){return ristretto255.unsafe.point.fromHash(a[t])}},{name:"unsafe.point.add",description:"Add two curve25519 points",execute:function(t){return ristretto255.unsafe.point.add(n[t],n[t%e])}},{name:"unsafe.point.sub",description:"Subtract two curve25519 points",execute:function(t){return ristretto255.unsafe.point.sub(n[t],n[t%e])}},{name:"unsafe.point.scalarMultBase",description:"Multiply a curve25519's base point by a scalar",execute:function(t){return ristretto255.unsafe.point.scalarMultBase(n[t],o[t])}},{name:"unsafe.point.scalarMult",description:"Multiply a curve25519's point by a scalar",execute:function(t){return ristretto255.unsafe.point.scalarMult(n[t],n[t%e],o[t])}}]}].forEach((function(t){var n=t.functions.map((function(t){for(var n=[],r=0;r<e;r++){var a=performance.now();t.execute(r);var o=performance.now();n.push(o-a)}var i=l(n),s=function(t){var e=l(t),n=t.map((function(t){var n=t-e;return n*n}));return Math.sqrt(l(n))}(n);return{functionName:t.name,description:t.description,timing:"".concat(i.toFixed(2),'<small font-size="smaller"> &#177; ').concat(s.toFixed(2),"</small>")}}));document.getElementById("container").innerHTML+=function(t,e){return"\n<h2>".concat(t,'</h2>\n<div class="benchmarks">\n    <table class="benchmarks">\n        <tr>\n            <th>Function name</th>\n            <th>Time in ms</th>\n            <th>Comments</th>\n        </tr>\n        ').concat(e.map((function(t){return"\n                <tr>\n                    <td>".concat(t.functionName,"</td>\n                    <td>").concat(t.timing,"</td>\n                    <td>").concat(t.description,"</td>\n                </tr>\n            ")})).join(""),"\n    </table>\n</div>")}(t.name,n)}));var f=performance.now();document.getElementById("total_time").innerHTML="Benchmark runtime: ".concat(((f-t)/1e3).toFixed(2)," sec with ").concat(e," reps on each operation.")}));
