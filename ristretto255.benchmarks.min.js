!function(t){"function"==typeof define&&define.amd?define(t):t()}(function(){"use strict";Uint8Array.prototype.fill||(Uint8Array.prototype.fill=Array.prototype.fill);for(var t=performance.now(),p=100,e=[],n=[],r=[],a=[],o=ristretto255.unsafe.point.alloc(),i=0;i<p;i++){var s=ristretto255.unsafe.point.getRandom();e.push(s),n.push(ristretto255.unsafe.point.toBytes(s));for(var u=new Uint8Array(32),c=0;c<32;c++)u[c]=i;r.push(u),a.push(ristretto255.scalar.getRandom())}function l(t){return t.reduce(function(t,e){return t+e},0)/t.length}[{name:"High-level ristretto255 group operations",functions:[{name:"getRandom",description:"Generate a random group element",execute:function(){return ristretto255.getRandom()}},{name:"isValid",description:"Check if a value represents a valid element",execute:function(t){return ristretto255.isValid(n[t])}},{name:"fromHash",description:"Hash to group: generate a group element from 64-element byte array, e.g. an output of SHA-512",execute:function(t){return ristretto255.fromHash(r[t])}},{name:"add",description:"Add two group elements",execute:function(t){return ristretto255.add(n[t],n[(t+1)%p])}},{name:"sub",description:"Subtract two group elements",execute:function(t){return ristretto255.sub(n[t],n[(t+1)%p])}},{name:"scalarMultBase",description:"Multiply a generator of the group by a scalar",execute:function(t){return ristretto255.scalarMultBase(a[t])}},{name:"scalarMult",description:"Multiply a group element by a scalar",execute:function(t){return ristretto255.scalarMult(a[t],n[t])}}]},{name:"Scalar operations",functions:[{name:"scalar.getRandom",description:"Generate a random scalar",execute:function(){return ristretto255.scalar.getRandom()}},{name:"scalar.invert",description:"Invert a scalar",execute:function(t){return ristretto255.scalar.invert(a[t])}},{name:"scalar.negate",description:"Negate a scalar",execute:function(t){return ristretto255.scalar.negate(a[t],a[t%p])}},{name:"scalar.add",description:"Add two scalars",execute:function(t){return ristretto255.scalar.add(a[t],a[t%p])}},{name:"scalar.sub",description:"Subtract two scalars",execute:function(t){return ristretto255.scalar.sub(a[t],a[t%p])}},{name:"scalar.mul",description:"Multiply two scalars",execute:function(t){return ristretto255.scalar.mul(a[t],a[t%p])}}]},{name:"Low-level unsafe functions (unless if used by a cryptographer)",functions:[{name:"unsafe.point.toBytes",description:"Serialize a curve25519 point to ristretto255 group element",execute:function(t){return ristretto255.unsafe.point.toBytes(e[t])}},{name:"unsafe.point.fromBytes",description:"Deserialize a curve25519 point from ristretto255 group element",execute:function(t){return ristretto255.unsafe.point.fromBytes(o,n[t])}},{name:"unsafe.point.getRandom",description:"Generate a random ristretto255 group element represented as curve25519 point",execute:function(){return ristretto255.unsafe.point.getRandom()}},{name:"unsafe.point.fromHash",description:"Generate a ristretto255 group element represented as curve25519 point from a 64 elements byte array such as an output of SHA512",execute:function(t){return ristretto255.unsafe.point.fromHash(r[t])}},{name:"unsafe.point.add",description:"Add two curve25519 points",execute:function(t){return ristretto255.unsafe.point.add(e[t],e[t%p])}},{name:"unsafe.point.sub",description:"Subtract two curve25519 points",execute:function(t){return ristretto255.unsafe.point.sub(e[t],e[t%p])}},{name:"unsafe.point.scalarMultBase",description:"Multiply a curve25519's base point by a scalar",execute:function(t){return ristretto255.unsafe.point.scalarMultBase(e[t],a[t])}},{name:"unsafe.point.scalarMult",description:"Multiply a curve25519's point by a scalar",execute:function(t){return ristretto255.unsafe.point.scalarMult(e[t],e[t%p],a[t])}}]}].forEach(function(t){var e,n,r=t.functions.map(function(t){for(var e=[],n=0;n<p;n++){var r=performance.now();t.execute(n);var a=performance.now();e.push(a-r)}var o,i,s,u=l(e),c=(i=l(o=e),s=o.map(function(t){var e=t-i;return e*e}),Math.sqrt(l(s)));return{functionName:t.name,description:t.description,timing:"".concat(u.toFixed(2),'<small font-size="smaller"> &#177; ').concat(c.toFixed(2),"</small>")}});document.getElementById("container").innerHTML+=(e=t.name,n=r,"\n<h2>".concat(e,'</h2>\n<div class="benchmarks">\n    <table class="benchmarks">\n        <tr>\n            <th>Function name</th>\n            <th>Time in ms</th>\n            <th>Comments</th>\n        </tr>\n        ').concat(n.map(function(t){return"\n                <tr>\n                    <td>".concat(t.functionName,"</td>\n                    <td>").concat(t.timing,"</td>\n                    <td>").concat(t.description,"</td>\n                </tr>\n            ")}).join(""),"\n    </table>\n</div>"))});var m=performance.now();document.getElementById("total_time").innerHTML="Benchmark runtime: ".concat(((m-t)/1e3).toFixed(2)," sec with ").concat(p," reps on each operation.")});
