!function(r,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("crypto")):"function"==typeof define&&define.amd?define(["exports","crypto"],t):t((r=r||self).ristretto={},r.crypto)}(this,function(r,t){"use strict";t=t&&t.hasOwnProperty("default")?t.default:t;var n,i=(function(r){!function(f){var b=function(r){var t,n=new Float64Array(16);if(r)for(t=0;t<r.length;t++)n[t]=r[t];return n},i=function(){throw new Error("no PRNG")},o=new Uint8Array(16),n=new Uint8Array(32);n[0]=9;var d=b(),A=b([1]),v=b([56129,1]),_=b([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),c=b([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222]),e=b([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),a=b([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]),M=b([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function h(r,t,n,e){r[t]=n>>24&255,r[t+1]=n>>16&255,r[t+2]=n>>8&255,r[t+3]=255&n,r[t+4]=e>>24&255,r[t+5]=e>>16&255,r[t+6]=e>>8&255,r[t+7]=255&e}function s(r,t,n,e,o){var f,i=0;for(f=0;f<o;f++)i|=r[t+f]^n[e+f];return(1&i-1>>>8)-1}function u(r,t,n,e){return s(r,t,n,e,16)}function U(r,t,n,e){return s(r,t,n,e,32)}function l(r,t,n,e){!function(r,t,n,e){for(var o,f=255&e[0]|(255&e[1])<<8|(255&e[2])<<16|(255&e[3])<<24,i=255&n[0]|(255&n[1])<<8|(255&n[2])<<16|(255&n[3])<<24,a=255&n[4]|(255&n[5])<<8|(255&n[6])<<16|(255&n[7])<<24,h=255&n[8]|(255&n[9])<<8|(255&n[10])<<16|(255&n[11])<<24,s=255&n[12]|(255&n[13])<<8|(255&n[14])<<16|(255&n[15])<<24,u=255&e[4]|(255&e[5])<<8|(255&e[6])<<16|(255&e[7])<<24,c=255&t[0]|(255&t[1])<<8|(255&t[2])<<16|(255&t[3])<<24,l=255&t[4]|(255&t[5])<<8|(255&t[6])<<16|(255&t[7])<<24,g=255&t[8]|(255&t[9])<<8|(255&t[10])<<16|(255&t[11])<<24,y=255&t[12]|(255&t[13])<<8|(255&t[14])<<16|(255&t[15])<<24,v=255&e[8]|(255&e[9])<<8|(255&e[10])<<16|(255&e[11])<<24,w=255&n[16]|(255&n[17])<<8|(255&n[18])<<16|(255&n[19])<<24,p=255&n[20]|(255&n[21])<<8|(255&n[22])<<16|(255&n[23])<<24,b=255&n[24]|(255&n[25])<<8|(255&n[26])<<16|(255&n[27])<<24,d=255&n[28]|(255&n[29])<<8|(255&n[30])<<16|(255&n[31])<<24,A=255&e[12]|(255&e[13])<<8|(255&e[14])<<16|(255&e[15])<<24,_=f,M=i,U=a,m=h,E=s,x=u,S=c,k=l,B=g,L=y,K=v,Y=w,T=p,F=b,Z=d,z=A,R=0;R<20;R+=2)_^=(o=(T^=(o=(B^=(o=(E^=(o=_+T|0)<<7|o>>>25)+_|0)<<9|o>>>23)+E|0)<<13|o>>>19)+B|0)<<18|o>>>14,x^=(o=(M^=(o=(F^=(o=(L^=(o=x+M|0)<<7|o>>>25)+x|0)<<9|o>>>23)+L|0)<<13|o>>>19)+F|0)<<18|o>>>14,K^=(o=(S^=(o=(U^=(o=(Z^=(o=K+S|0)<<7|o>>>25)+K|0)<<9|o>>>23)+Z|0)<<13|o>>>19)+U|0)<<18|o>>>14,z^=(o=(Y^=(o=(k^=(o=(m^=(o=z+Y|0)<<7|o>>>25)+z|0)<<9|o>>>23)+m|0)<<13|o>>>19)+k|0)<<18|o>>>14,_^=(o=(m^=(o=(U^=(o=(M^=(o=_+m|0)<<7|o>>>25)+_|0)<<9|o>>>23)+M|0)<<13|o>>>19)+U|0)<<18|o>>>14,x^=(o=(E^=(o=(k^=(o=(S^=(o=x+E|0)<<7|o>>>25)+x|0)<<9|o>>>23)+S|0)<<13|o>>>19)+k|0)<<18|o>>>14,K^=(o=(L^=(o=(B^=(o=(Y^=(o=K+L|0)<<7|o>>>25)+K|0)<<9|o>>>23)+Y|0)<<13|o>>>19)+B|0)<<18|o>>>14,z^=(o=(Z^=(o=(F^=(o=(T^=(o=z+Z|0)<<7|o>>>25)+z|0)<<9|o>>>23)+T|0)<<13|o>>>19)+F|0)<<18|o>>>14;_=_+f|0,M=M+i|0,U=U+a|0,m=m+h|0,E=E+s|0,x=x+u|0,S=S+c|0,k=k+l|0,B=B+g|0,L=L+y|0,K=K+v|0,Y=Y+w|0,T=T+p|0,F=F+b|0,Z=Z+d|0,z=z+A|0,r[0]=_>>>0&255,r[1]=_>>>8&255,r[2]=_>>>16&255,r[3]=_>>>24&255,r[4]=M>>>0&255,r[5]=M>>>8&255,r[6]=M>>>16&255,r[7]=M>>>24&255,r[8]=U>>>0&255,r[9]=U>>>8&255,r[10]=U>>>16&255,r[11]=U>>>24&255,r[12]=m>>>0&255,r[13]=m>>>8&255,r[14]=m>>>16&255,r[15]=m>>>24&255,r[16]=E>>>0&255,r[17]=E>>>8&255,r[18]=E>>>16&255,r[19]=E>>>24&255,r[20]=x>>>0&255,r[21]=x>>>8&255,r[22]=x>>>16&255,r[23]=x>>>24&255,r[24]=S>>>0&255,r[25]=S>>>8&255,r[26]=S>>>16&255,r[27]=S>>>24&255,r[28]=k>>>0&255,r[29]=k>>>8&255,r[30]=k>>>16&255,r[31]=k>>>24&255,r[32]=B>>>0&255,r[33]=B>>>8&255,r[34]=B>>>16&255,r[35]=B>>>24&255,r[36]=L>>>0&255,r[37]=L>>>8&255,r[38]=L>>>16&255,r[39]=L>>>24&255,r[40]=K>>>0&255,r[41]=K>>>8&255,r[42]=K>>>16&255,r[43]=K>>>24&255,r[44]=Y>>>0&255,r[45]=Y>>>8&255,r[46]=Y>>>16&255,r[47]=Y>>>24&255,r[48]=T>>>0&255,r[49]=T>>>8&255,r[50]=T>>>16&255,r[51]=T>>>24&255,r[52]=F>>>0&255,r[53]=F>>>8&255,r[54]=F>>>16&255,r[55]=F>>>24&255,r[56]=Z>>>0&255,r[57]=Z>>>8&255,r[58]=Z>>>16&255,r[59]=Z>>>24&255,r[60]=z>>>0&255,r[61]=z>>>8&255,r[62]=z>>>16&255,r[63]=z>>>24&255}(r,t,n,e)}function g(r,t,n,e){!function(r,t,n,e){for(var o,f=255&e[0]|(255&e[1])<<8|(255&e[2])<<16|(255&e[3])<<24,i=255&n[0]|(255&n[1])<<8|(255&n[2])<<16|(255&n[3])<<24,a=255&n[4]|(255&n[5])<<8|(255&n[6])<<16|(255&n[7])<<24,h=255&n[8]|(255&n[9])<<8|(255&n[10])<<16|(255&n[11])<<24,s=255&n[12]|(255&n[13])<<8|(255&n[14])<<16|(255&n[15])<<24,u=255&e[4]|(255&e[5])<<8|(255&e[6])<<16|(255&e[7])<<24,c=255&t[0]|(255&t[1])<<8|(255&t[2])<<16|(255&t[3])<<24,l=255&t[4]|(255&t[5])<<8|(255&t[6])<<16|(255&t[7])<<24,g=255&t[8]|(255&t[9])<<8|(255&t[10])<<16|(255&t[11])<<24,y=255&t[12]|(255&t[13])<<8|(255&t[14])<<16|(255&t[15])<<24,v=255&e[8]|(255&e[9])<<8|(255&e[10])<<16|(255&e[11])<<24,w=255&n[16]|(255&n[17])<<8|(255&n[18])<<16|(255&n[19])<<24,p=255&n[20]|(255&n[21])<<8|(255&n[22])<<16|(255&n[23])<<24,b=255&n[24]|(255&n[25])<<8|(255&n[26])<<16|(255&n[27])<<24,d=255&n[28]|(255&n[29])<<8|(255&n[30])<<16|(255&n[31])<<24,A=255&e[12]|(255&e[13])<<8|(255&e[14])<<16|(255&e[15])<<24,_=0;_<20;_+=2)f^=(o=(p^=(o=(g^=(o=(s^=(o=f+p|0)<<7|o>>>25)+f|0)<<9|o>>>23)+s|0)<<13|o>>>19)+g|0)<<18|o>>>14,u^=(o=(i^=(o=(b^=(o=(y^=(o=u+i|0)<<7|o>>>25)+u|0)<<9|o>>>23)+y|0)<<13|o>>>19)+b|0)<<18|o>>>14,v^=(o=(c^=(o=(a^=(o=(d^=(o=v+c|0)<<7|o>>>25)+v|0)<<9|o>>>23)+d|0)<<13|o>>>19)+a|0)<<18|o>>>14,A^=(o=(w^=(o=(l^=(o=(h^=(o=A+w|0)<<7|o>>>25)+A|0)<<9|o>>>23)+h|0)<<13|o>>>19)+l|0)<<18|o>>>14,f^=(o=(h^=(o=(a^=(o=(i^=(o=f+h|0)<<7|o>>>25)+f|0)<<9|o>>>23)+i|0)<<13|o>>>19)+a|0)<<18|o>>>14,u^=(o=(s^=(o=(l^=(o=(c^=(o=u+s|0)<<7|o>>>25)+u|0)<<9|o>>>23)+c|0)<<13|o>>>19)+l|0)<<18|o>>>14,v^=(o=(y^=(o=(g^=(o=(w^=(o=v+y|0)<<7|o>>>25)+v|0)<<9|o>>>23)+w|0)<<13|o>>>19)+g|0)<<18|o>>>14,A^=(o=(d^=(o=(b^=(o=(p^=(o=A+d|0)<<7|o>>>25)+A|0)<<9|o>>>23)+p|0)<<13|o>>>19)+b|0)<<18|o>>>14;r[0]=f>>>0&255,r[1]=f>>>8&255,r[2]=f>>>16&255,r[3]=f>>>24&255,r[4]=u>>>0&255,r[5]=u>>>8&255,r[6]=u>>>16&255,r[7]=u>>>24&255,r[8]=v>>>0&255,r[9]=v>>>8&255,r[10]=v>>>16&255,r[11]=v>>>24&255,r[12]=A>>>0&255,r[13]=A>>>8&255,r[14]=A>>>16&255,r[15]=A>>>24&255,r[16]=c>>>0&255,r[17]=c>>>8&255,r[18]=c>>>16&255,r[19]=c>>>24&255,r[20]=l>>>0&255,r[21]=l>>>8&255,r[22]=l>>>16&255,r[23]=l>>>24&255,r[24]=g>>>0&255,r[25]=g>>>8&255,r[26]=g>>>16&255,r[27]=g>>>24&255,r[28]=y>>>0&255,r[29]=y>>>8&255,r[30]=y>>>16&255,r[31]=y>>>24&255}(r,t,n,e)}var y=new Uint8Array([101,120,112,97,110,100,32,51,50,45,98,121,116,101,32,107]);function w(r,t,n,e,o,f,i){var a,h,s=new Uint8Array(16),u=new Uint8Array(64);for(h=0;h<16;h++)s[h]=0;for(h=0;h<8;h++)s[h]=f[h];for(;64<=o;){for(l(u,s,i,y),h=0;h<64;h++)r[t+h]=n[e+h]^u[h];for(a=1,h=8;h<16;h++)a=a+(255&s[h])|0,s[h]=255&a,a>>>=8;o-=64,t+=64,e+=64}if(0<o)for(l(u,s,i,y),h=0;h<o;h++)r[t+h]=n[e+h]^u[h];return 0}function p(r,t,n,e,o){var f,i,a=new Uint8Array(16),h=new Uint8Array(64);for(i=0;i<16;i++)a[i]=0;for(i=0;i<8;i++)a[i]=e[i];for(;64<=n;){for(l(h,a,o,y),i=0;i<64;i++)r[t+i]=h[i];for(f=1,i=8;i<16;i++)f=f+(255&a[i])|0,a[i]=255&f,f>>>=8;n-=64,t+=64}if(0<n)for(l(h,a,o,y),i=0;i<n;i++)r[t+i]=h[i];return 0}function m(r,t,n,e,o){var f=new Uint8Array(32);g(f,e,o,y);for(var i=new Uint8Array(8),a=0;a<8;a++)i[a]=e[a+16];return p(r,t,n,i,f)}function E(r,t,n,e,o,f,i){var a=new Uint8Array(32);g(a,f,i,y);for(var h=new Uint8Array(8),s=0;s<8;s++)h[s]=f[s+16];return w(r,t,n,e,o,h,a)}var x=function(r){var t,n,e,o,f,i,a,h;this.buffer=new Uint8Array(16),this.r=new Uint16Array(10),this.h=new Uint16Array(10),this.pad=new Uint16Array(8),this.leftover=0,t=255&r[this.fin=0]|(255&r[1])<<8,this.r[0]=8191&t,n=255&r[2]|(255&r[3])<<8,this.r[1]=8191&(t>>>13|n<<3),e=255&r[4]|(255&r[5])<<8,this.r[2]=7939&(n>>>10|e<<6),o=255&r[6]|(255&r[7])<<8,this.r[3]=8191&(e>>>7|o<<9),f=255&r[8]|(255&r[9])<<8,this.r[4]=255&(o>>>4|f<<12),this.r[5]=f>>>1&8190,i=255&r[10]|(255&r[11])<<8,this.r[6]=8191&(f>>>14|i<<2),a=255&r[12]|(255&r[13])<<8,this.r[7]=8065&(i>>>11|a<<5),h=255&r[14]|(255&r[15])<<8,this.r[8]=8191&(a>>>8|h<<8),this.r[9]=h>>>5&127,this.pad[0]=255&r[16]|(255&r[17])<<8,this.pad[1]=255&r[18]|(255&r[19])<<8,this.pad[2]=255&r[20]|(255&r[21])<<8,this.pad[3]=255&r[22]|(255&r[23])<<8,this.pad[4]=255&r[24]|(255&r[25])<<8,this.pad[5]=255&r[26]|(255&r[27])<<8,this.pad[6]=255&r[28]|(255&r[29])<<8,this.pad[7]=255&r[30]|(255&r[31])<<8};function S(r,t,n,e,o,f){var i=new x(f);return i.update(n,e,o),i.finish(r,t),0}function k(r,t,n,e,o,f){var i=new Uint8Array(16);return S(i,0,n,e,o,f),u(r,t,i,0)}function B(r,t,n,e,o){var f;if(n<32)return-1;for(E(r,0,t,0,n,e,o),S(r,16,r,32,n-32,r),f=0;f<16;f++)r[f]=0;return 0}function L(r,t,n,e,o){var f,i=new Uint8Array(32);if(n<32)return-1;if(m(i,0,32,e,o),0!==k(t,16,t,32,n-32,i))return-1;for(E(r,0,t,0,n,e,o),f=0;f<32;f++)r[f]=0;return 0}function K(r,t){var n;for(n=0;n<16;n++)r[n]=0|t[n]}function Y(r){var t,n,e=1;for(t=0;t<16;t++)n=r[t]+e+65535,e=Math.floor(n/65536),r[t]=n-65536*e;r[0]+=e-1+37*(e-1)}function T(r,t,n){for(var e,o=~(n-1),f=0;f<16;f++)e=o&(r[f]^t[f]),r[f]^=e,t[f]^=e}function F(r,t){var n,e,o,f=b(),i=b();for(n=0;n<16;n++)i[n]=t[n];for(Y(i),Y(i),Y(i),e=0;e<2;e++){for(f[0]=i[0]-65517,n=1;n<15;n++)f[n]=i[n]-65535-(f[n-1]>>16&1),f[n-1]&=65535;f[15]=i[15]-32767-(f[14]>>16&1),o=f[15]>>16&1,f[14]&=65535,T(i,f,1-o)}for(n=0;n<16;n++)r[2*n]=255&i[n],r[2*n+1]=i[n]>>8}function Z(r,t){var n=new Uint8Array(32),e=new Uint8Array(32);return F(n,r),F(e,t),U(n,0,e,0)}function z(r){var t=new Uint8Array(32);return F(t,r),1&t[0]}function R(r,t){var n;for(n=0;n<16;n++)r[n]=t[2*n]+(t[2*n+1]<<8);r[15]&=32767}function P(r,t,n){for(var e=0;e<16;e++)r[e]=t[e]+n[e]}function I(r,t,n){for(var e=0;e<16;e++)r[e]=t[e]-n[e]}function O(r,t,n){var e,o,f=0,i=0,a=0,h=0,s=0,u=0,c=0,l=0,g=0,y=0,v=0,w=0,p=0,b=0,d=0,A=0,_=0,M=0,U=0,m=0,E=0,x=0,S=0,k=0,B=0,L=0,K=0,Y=0,T=0,F=0,Z=0,z=n[0],R=n[1],P=n[2],I=n[3],O=n[4],C=n[5],N=n[6],q=n[7],D=n[8],G=n[9],j=n[10],V=n[11],X=n[12],H=n[13],J=n[14],Q=n[15];f+=(e=t[0])*z,i+=e*R,a+=e*P,h+=e*I,s+=e*O,u+=e*C,c+=e*N,l+=e*q,g+=e*D,y+=e*G,v+=e*j,w+=e*V,p+=e*X,b+=e*H,d+=e*J,A+=e*Q,i+=(e=t[1])*z,a+=e*R,h+=e*P,s+=e*I,u+=e*O,c+=e*C,l+=e*N,g+=e*q,y+=e*D,v+=e*G,w+=e*j,p+=e*V,b+=e*X,d+=e*H,A+=e*J,_+=e*Q,a+=(e=t[2])*z,h+=e*R,s+=e*P,u+=e*I,c+=e*O,l+=e*C,g+=e*N,y+=e*q,v+=e*D,w+=e*G,p+=e*j,b+=e*V,d+=e*X,A+=e*H,_+=e*J,M+=e*Q,h+=(e=t[3])*z,s+=e*R,u+=e*P,c+=e*I,l+=e*O,g+=e*C,y+=e*N,v+=e*q,w+=e*D,p+=e*G,b+=e*j,d+=e*V,A+=e*X,_+=e*H,M+=e*J,U+=e*Q,s+=(e=t[4])*z,u+=e*R,c+=e*P,l+=e*I,g+=e*O,y+=e*C,v+=e*N,w+=e*q,p+=e*D,b+=e*G,d+=e*j,A+=e*V,_+=e*X,M+=e*H,U+=e*J,m+=e*Q,u+=(e=t[5])*z,c+=e*R,l+=e*P,g+=e*I,y+=e*O,v+=e*C,w+=e*N,p+=e*q,b+=e*D,d+=e*G,A+=e*j,_+=e*V,M+=e*X,U+=e*H,m+=e*J,E+=e*Q,c+=(e=t[6])*z,l+=e*R,g+=e*P,y+=e*I,v+=e*O,w+=e*C,p+=e*N,b+=e*q,d+=e*D,A+=e*G,_+=e*j,M+=e*V,U+=e*X,m+=e*H,E+=e*J,x+=e*Q,l+=(e=t[7])*z,g+=e*R,y+=e*P,v+=e*I,w+=e*O,p+=e*C,b+=e*N,d+=e*q,A+=e*D,_+=e*G,M+=e*j,U+=e*V,m+=e*X,E+=e*H,x+=e*J,S+=e*Q,g+=(e=t[8])*z,y+=e*R,v+=e*P,w+=e*I,p+=e*O,b+=e*C,d+=e*N,A+=e*q,_+=e*D,M+=e*G,U+=e*j,m+=e*V,E+=e*X,x+=e*H,S+=e*J,k+=e*Q,y+=(e=t[9])*z,v+=e*R,w+=e*P,p+=e*I,b+=e*O,d+=e*C,A+=e*N,_+=e*q,M+=e*D,U+=e*G,m+=e*j,E+=e*V,x+=e*X,S+=e*H,k+=e*J,B+=e*Q,v+=(e=t[10])*z,w+=e*R,p+=e*P,b+=e*I,d+=e*O,A+=e*C,_+=e*N,M+=e*q,U+=e*D,m+=e*G,E+=e*j,x+=e*V,S+=e*X,k+=e*H,B+=e*J,L+=e*Q,w+=(e=t[11])*z,p+=e*R,b+=e*P,d+=e*I,A+=e*O,_+=e*C,M+=e*N,U+=e*q,m+=e*D,E+=e*G,x+=e*j,S+=e*V,k+=e*X,B+=e*H,L+=e*J,K+=e*Q,p+=(e=t[12])*z,b+=e*R,d+=e*P,A+=e*I,_+=e*O,M+=e*C,U+=e*N,m+=e*q,E+=e*D,x+=e*G,S+=e*j,k+=e*V,B+=e*X,L+=e*H,K+=e*J,Y+=e*Q,b+=(e=t[13])*z,d+=e*R,A+=e*P,_+=e*I,M+=e*O,U+=e*C,m+=e*N,E+=e*q,x+=e*D,S+=e*G,k+=e*j,B+=e*V,L+=e*X,K+=e*H,Y+=e*J,T+=e*Q,d+=(e=t[14])*z,A+=e*R,_+=e*P,M+=e*I,U+=e*O,m+=e*C,E+=e*N,x+=e*q,S+=e*D,k+=e*G,B+=e*j,L+=e*V,K+=e*X,Y+=e*H,T+=e*J,F+=e*Q,A+=(e=t[15])*z,i+=38*(M+=e*P),a+=38*(U+=e*I),h+=38*(m+=e*O),s+=38*(E+=e*C),u+=38*(x+=e*N),c+=38*(S+=e*q),l+=38*(k+=e*D),g+=38*(B+=e*G),y+=38*(L+=e*j),v+=38*(K+=e*V),w+=38*(Y+=e*X),p+=38*(T+=e*H),b+=38*(F+=e*J),d+=38*(Z+=e*Q),f=(e=(f+=38*(_+=e*R))+(o=1)+65535)-65536*(o=Math.floor(e/65536)),i=(e=i+o+65535)-65536*(o=Math.floor(e/65536)),a=(e=a+o+65535)-65536*(o=Math.floor(e/65536)),h=(e=h+o+65535)-65536*(o=Math.floor(e/65536)),s=(e=s+o+65535)-65536*(o=Math.floor(e/65536)),u=(e=u+o+65535)-65536*(o=Math.floor(e/65536)),c=(e=c+o+65535)-65536*(o=Math.floor(e/65536)),l=(e=l+o+65535)-65536*(o=Math.floor(e/65536)),g=(e=g+o+65535)-65536*(o=Math.floor(e/65536)),y=(e=y+o+65535)-65536*(o=Math.floor(e/65536)),v=(e=v+o+65535)-65536*(o=Math.floor(e/65536)),w=(e=w+o+65535)-65536*(o=Math.floor(e/65536)),p=(e=p+o+65535)-65536*(o=Math.floor(e/65536)),b=(e=b+o+65535)-65536*(o=Math.floor(e/65536)),d=(e=d+o+65535)-65536*(o=Math.floor(e/65536)),A=(e=A+o+65535)-65536*(o=Math.floor(e/65536)),f=(e=(f+=o-1+37*(o-1))+(o=1)+65535)-65536*(o=Math.floor(e/65536)),i=(e=i+o+65535)-65536*(o=Math.floor(e/65536)),a=(e=a+o+65535)-65536*(o=Math.floor(e/65536)),h=(e=h+o+65535)-65536*(o=Math.floor(e/65536)),s=(e=s+o+65535)-65536*(o=Math.floor(e/65536)),u=(e=u+o+65535)-65536*(o=Math.floor(e/65536)),c=(e=c+o+65535)-65536*(o=Math.floor(e/65536)),l=(e=l+o+65535)-65536*(o=Math.floor(e/65536)),g=(e=g+o+65535)-65536*(o=Math.floor(e/65536)),y=(e=y+o+65535)-65536*(o=Math.floor(e/65536)),v=(e=v+o+65535)-65536*(o=Math.floor(e/65536)),w=(e=w+o+65535)-65536*(o=Math.floor(e/65536)),p=(e=p+o+65535)-65536*(o=Math.floor(e/65536)),b=(e=b+o+65535)-65536*(o=Math.floor(e/65536)),d=(e=d+o+65535)-65536*(o=Math.floor(e/65536)),A=(e=A+o+65535)-65536*(o=Math.floor(e/65536)),f+=o-1+37*(o-1),r[0]=f,r[1]=i,r[2]=a,r[3]=h,r[4]=s,r[5]=u,r[6]=c,r[7]=l,r[8]=g,r[9]=y,r[10]=v,r[11]=w,r[12]=p,r[13]=b,r[14]=d,r[15]=A}function C(r,t){O(r,t,t)}function N(r,t){var n,e=b();for(n=0;n<16;n++)e[n]=t[n];for(n=253;0<=n;n--)C(e,e),2!==n&&4!==n&&O(e,e,t);for(n=0;n<16;n++)r[n]=e[n]}function q(r,t){var n,e=b();for(n=0;n<16;n++)e[n]=t[n];for(n=250;0<=n;n--)C(e,e),1!==n&&O(e,e,t);for(n=0;n<16;n++)r[n]=e[n]}function D(r,t,n){var e,o,f=new Uint8Array(32),i=new Float64Array(80),a=b(),h=b(),s=b(),u=b(),c=b(),l=b();for(o=0;o<31;o++)f[o]=t[o];for(f[31]=127&t[31]|64,f[0]&=248,R(i,n),o=0;o<16;o++)h[o]=i[o],u[o]=a[o]=s[o]=0;for(a[0]=u[0]=1,o=254;0<=o;--o)T(a,h,e=f[o>>>3]>>>(7&o)&1),T(s,u,e),P(c,a,s),I(a,a,s),P(s,h,u),I(h,h,u),C(u,c),C(l,a),O(a,s,a),O(s,h,c),P(c,a,s),I(a,a,s),C(h,a),I(s,u,l),O(a,s,v),P(a,a,u),O(s,s,a),O(a,u,l),O(u,h,i),C(h,c),T(a,h,e),T(s,u,e);for(o=0;o<16;o++)i[o+16]=a[o],i[o+32]=s[o],i[o+48]=h[o],i[o+64]=u[o];var g=i.subarray(32),y=i.subarray(16);return N(g,g),O(y,y,g),F(r,y),0}function G(r,t){return D(r,t,n)}function j(r,t){return i(t,32),G(r,t)}function V(r,t,n){var e=new Uint8Array(32);return D(e,n,t),g(r,o,e,y)}x.prototype.blocks=function(r,t,n){for(var e,o,f,i,a,h,s,u,c,l,g,y,v,w,p,b,d,A,_,M=this.fin?0:2048,U=this.h[0],m=this.h[1],E=this.h[2],x=this.h[3],S=this.h[4],k=this.h[5],B=this.h[6],L=this.h[7],K=this.h[8],Y=this.h[9],T=this.r[0],F=this.r[1],Z=this.r[2],z=this.r[3],R=this.r[4],P=this.r[5],I=this.r[6],O=this.r[7],C=this.r[8],N=this.r[9];16<=n;)l=c=0,l+=(U+=8191&(e=255&r[t+0]|(255&r[t+1])<<8))*T,l+=(m+=8191&(e>>>13|(o=255&r[t+2]|(255&r[t+3])<<8)<<3))*(5*N),l+=(E+=8191&(o>>>10|(f=255&r[t+4]|(255&r[t+5])<<8)<<6))*(5*C),l+=(x+=8191&(f>>>7|(i=255&r[t+6]|(255&r[t+7])<<8)<<9))*(5*O),c=(l+=(S+=8191&(i>>>4|(a=255&r[t+8]|(255&r[t+9])<<8)<<12))*(5*I))>>>13,l&=8191,l+=(k+=a>>>1&8191)*(5*P),l+=(B+=8191&(a>>>14|(h=255&r[t+10]|(255&r[t+11])<<8)<<2))*(5*R),l+=(L+=8191&(h>>>11|(s=255&r[t+12]|(255&r[t+13])<<8)<<5))*(5*z),l+=(K+=8191&(s>>>8|(u=255&r[t+14]|(255&r[t+15])<<8)<<8))*(5*Z),g=c+=(l+=(Y+=u>>>5|M)*(5*F))>>>13,g+=U*F,g+=m*T,g+=E*(5*N),g+=x*(5*C),c=(g+=S*(5*O))>>>13,g&=8191,g+=k*(5*I),g+=B*(5*P),g+=L*(5*R),g+=K*(5*z),c+=(g+=Y*(5*Z))>>>13,g&=8191,y=c,y+=U*Z,y+=m*F,y+=E*T,y+=x*(5*N),c=(y+=S*(5*C))>>>13,y&=8191,y+=k*(5*O),y+=B*(5*I),y+=L*(5*P),y+=K*(5*R),v=c+=(y+=Y*(5*z))>>>13,v+=U*z,v+=m*Z,v+=E*F,v+=x*T,c=(v+=S*(5*N))>>>13,v&=8191,v+=k*(5*C),v+=B*(5*O),v+=L*(5*I),v+=K*(5*P),w=c+=(v+=Y*(5*R))>>>13,w+=U*R,w+=m*z,w+=E*Z,w+=x*F,c=(w+=S*T)>>>13,w&=8191,w+=k*(5*N),w+=B*(5*C),w+=L*(5*O),w+=K*(5*I),p=c+=(w+=Y*(5*P))>>>13,p+=U*P,p+=m*R,p+=E*z,p+=x*Z,c=(p+=S*F)>>>13,p&=8191,p+=k*T,p+=B*(5*N),p+=L*(5*C),p+=K*(5*O),b=c+=(p+=Y*(5*I))>>>13,b+=U*I,b+=m*P,b+=E*R,b+=x*z,c=(b+=S*Z)>>>13,b&=8191,b+=k*F,b+=B*T,b+=L*(5*N),b+=K*(5*C),d=c+=(b+=Y*(5*O))>>>13,d+=U*O,d+=m*I,d+=E*P,d+=x*R,c=(d+=S*z)>>>13,d&=8191,d+=k*Z,d+=B*F,d+=L*T,d+=K*(5*N),A=c+=(d+=Y*(5*C))>>>13,A+=U*C,A+=m*O,A+=E*I,A+=x*P,c=(A+=S*R)>>>13,A&=8191,A+=k*z,A+=B*Z,A+=L*F,A+=K*T,_=c+=(A+=Y*(5*N))>>>13,_+=U*N,_+=m*C,_+=E*O,_+=x*I,c=(_+=S*P)>>>13,_&=8191,_+=k*R,_+=B*z,_+=L*Z,_+=K*F,U=l=8191&(c=(c=((c+=(_+=Y*T)>>>13)<<2)+c|0)+(l&=8191)|0),m=g+=c>>>=13,E=y&=8191,x=v&=8191,S=w&=8191,k=p&=8191,B=b&=8191,L=d&=8191,K=A&=8191,Y=_&=8191,t+=16,n-=16;this.h[0]=U,this.h[1]=m,this.h[2]=E,this.h[3]=x,this.h[4]=S,this.h[5]=k,this.h[6]=B,this.h[7]=L,this.h[8]=K,this.h[9]=Y},x.prototype.finish=function(r,t){var n,e,o,f,i=new Uint16Array(10);if(this.leftover){for(f=this.leftover,this.buffer[f++]=1;f<16;f++)this.buffer[f]=0;this.fin=1,this.blocks(this.buffer,0,16)}for(n=this.h[1]>>>13,this.h[1]&=8191,f=2;f<10;f++)this.h[f]+=n,n=this.h[f]>>>13,this.h[f]&=8191;for(this.h[0]+=5*n,n=this.h[0]>>>13,this.h[0]&=8191,this.h[1]+=n,n=this.h[1]>>>13,this.h[1]&=8191,this.h[2]+=n,i[0]=this.h[0]+5,n=i[0]>>>13,i[0]&=8191,f=1;f<10;f++)i[f]=this.h[f]+n,n=i[f]>>>13,i[f]&=8191;for(i[9]-=8192,e=(1^n)-1,f=0;f<10;f++)i[f]&=e;for(e=~e,f=0;f<10;f++)this.h[f]=this.h[f]&e|i[f];for(this.h[0]=65535&(this.h[0]|this.h[1]<<13),this.h[1]=65535&(this.h[1]>>>3|this.h[2]<<10),this.h[2]=65535&(this.h[2]>>>6|this.h[3]<<7),this.h[3]=65535&(this.h[3]>>>9|this.h[4]<<4),this.h[4]=65535&(this.h[4]>>>12|this.h[5]<<1|this.h[6]<<14),this.h[5]=65535&(this.h[6]>>>2|this.h[7]<<11),this.h[6]=65535&(this.h[7]>>>5|this.h[8]<<8),this.h[7]=65535&(this.h[8]>>>8|this.h[9]<<5),o=this.h[0]+this.pad[0],this.h[0]=65535&o,f=1;f<8;f++)o=(this.h[f]+this.pad[f]|0)+(o>>>16)|0,this.h[f]=65535&o;r[t+0]=this.h[0]>>>0&255,r[t+1]=this.h[0]>>>8&255,r[t+2]=this.h[1]>>>0&255,r[t+3]=this.h[1]>>>8&255,r[t+4]=this.h[2]>>>0&255,r[t+5]=this.h[2]>>>8&255,r[t+6]=this.h[3]>>>0&255,r[t+7]=this.h[3]>>>8&255,r[t+8]=this.h[4]>>>0&255,r[t+9]=this.h[4]>>>8&255,r[t+10]=this.h[5]>>>0&255,r[t+11]=this.h[5]>>>8&255,r[t+12]=this.h[6]>>>0&255,r[t+13]=this.h[6]>>>8&255,r[t+14]=this.h[7]>>>0&255,r[t+15]=this.h[7]>>>8&255},x.prototype.update=function(r,t,n){var e,o;if(this.leftover){for(n<(o=16-this.leftover)&&(o=n),e=0;e<o;e++)this.buffer[this.leftover+e]=r[t+e];if(n-=o,t+=o,this.leftover+=o,this.leftover<16)return;this.blocks(this.buffer,0,16),this.leftover=0}if(16<=n&&(o=n-n%16,this.blocks(r,t,o),t+=o,n-=o),n){for(e=0;e<n;e++)this.buffer[this.leftover+e]=r[t+e];this.leftover+=n}};var X=B,H=L;var J=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function Q(r,t,n,e){for(var o,f,i,a,h,s,u,c,l,g,y,v,w,p,b,d,A,_,M,U,m,E,x,S,k=new Int32Array(16),B=new Int32Array(16),L=r[0],K=r[1],Y=r[2],T=r[3],F=r[4],Z=r[5],z=r[6],R=r[7],P=t[0],I=t[1],O=t[2],C=t[3],N=t[4],q=t[5],D=t[6],G=t[7],j=0;128<=e;){for(A=0;A<16;A++)_=8*A+j,k[A]=n[_+0]<<24|n[_+1]<<16|n[_+2]<<8|n[_+3],B[A]=n[_+4]<<24|n[_+5]<<16|n[_+6]<<8|n[_+7];for(A=0;A<80;A++)if(o=K,f=Y,i=T,c=I,l=O,g=C,m=65535&(U=G),E=U>>>16,x=65535&(M=R),S=M>>>16,m+=65535&(U=((y=N)>>>14|(a=F)<<18)^(N>>>18|F<<14)^(F>>>9|N<<23)),E+=U>>>16,x+=65535&(M=(F>>>14|N<<18)^(F>>>18|N<<14)^(N>>>9|F<<23)),S+=M>>>16,m+=65535&(U=N&(v=q)^~N&(w=D)),E+=U>>>16,x+=65535&(M=F&(h=Z)^~F&(s=z)),S+=M>>>16,M=J[2*A],m+=65535&(U=J[2*A+1]),E+=U>>>16,x+=65535&M,S+=M>>>16,M=k[A%16],E+=(U=B[A%16])>>>16,x+=65535&M,S+=M>>>16,x+=(E+=(m+=65535&U)>>>16)>>>16,m=65535&(U=d=65535&m|E<<16),E=U>>>16,x=65535&(M=b=65535&x|(S+=x>>>16)<<16),S=M>>>16,m+=65535&(U=(P>>>28|L<<4)^(L>>>2|P<<30)^(L>>>7|P<<25)),E+=U>>>16,x+=65535&(M=(L>>>28|P<<4)^(P>>>2|L<<30)^(P>>>7|L<<25)),S+=M>>>16,E+=(U=P&I^P&O^I&O)>>>16,x+=65535&(M=L&K^L&Y^K&Y),S+=M>>>16,u=65535&(x+=(E+=(m+=65535&U)>>>16)>>>16)|(S+=x>>>16)<<16,p=65535&m|E<<16,m=65535&(U=g),E=U>>>16,x=65535&(M=i),S=M>>>16,E+=(U=d)>>>16,x+=65535&(M=b),S+=M>>>16,K=L,Y=o,T=f,F=i=65535&(x+=(E+=(m+=65535&U)>>>16)>>>16)|(S+=x>>>16)<<16,Z=a,z=h,R=s,L=u,I=P,O=c,C=l,N=g=65535&m|E<<16,q=y,D=v,G=w,P=p,A%16==15)for(_=0;_<16;_++)M=k[_],m=65535&(U=B[_]),E=U>>>16,x=65535&M,S=M>>>16,M=k[(_+9)%16],m+=65535&(U=B[(_+9)%16]),E+=U>>>16,x+=65535&M,S+=M>>>16,b=k[(_+1)%16],m+=65535&(U=((d=B[(_+1)%16])>>>1|b<<31)^(d>>>8|b<<24)^(d>>>7|b<<25)),E+=U>>>16,x+=65535&(M=(b>>>1|d<<31)^(b>>>8|d<<24)^b>>>7),S+=M>>>16,b=k[(_+14)%16],E+=(U=((d=B[(_+14)%16])>>>19|b<<13)^(b>>>29|d<<3)^(d>>>6|b<<26))>>>16,x+=65535&(M=(b>>>19|d<<13)^(d>>>29|b<<3)^b>>>6),S+=M>>>16,S+=(x+=(E+=(m+=65535&U)>>>16)>>>16)>>>16,k[_]=65535&x|S<<16,B[_]=65535&m|E<<16;m=65535&(U=P),E=U>>>16,x=65535&(M=L),S=M>>>16,M=r[0],E+=(U=t[0])>>>16,x+=65535&M,S+=M>>>16,S+=(x+=(E+=(m+=65535&U)>>>16)>>>16)>>>16,r[0]=L=65535&x|S<<16,t[0]=P=65535&m|E<<16,m=65535&(U=I),E=U>>>16,x=65535&(M=K),S=M>>>16,M=r[1],E+=(U=t[1])>>>16,x+=65535&M,S+=M>>>16,S+=(x+=(E+=(m+=65535&U)>>>16)>>>16)>>>16,r[1]=K=65535&x|S<<16,t[1]=I=65535&m|E<<16,m=65535&(U=O),E=U>>>16,x=65535&(M=Y),S=M>>>16,M=r[2],E+=(U=t[2])>>>16,x+=65535&M,S+=M>>>16,S+=(x+=(E+=(m+=65535&U)>>>16)>>>16)>>>16,r[2]=Y=65535&x|S<<16,t[2]=O=65535&m|E<<16,m=65535&(U=C),E=U>>>16,x=65535&(M=T),S=M>>>16,M=r[3],E+=(U=t[3])>>>16,x+=65535&M,S+=M>>>16,S+=(x+=(E+=(m+=65535&U)>>>16)>>>16)>>>16,r[3]=T=65535&x|S<<16,t[3]=C=65535&m|E<<16,m=65535&(U=N),E=U>>>16,x=65535&(M=F),S=M>>>16,M=r[4],E+=(U=t[4])>>>16,x+=65535&M,S+=M>>>16,S+=(x+=(E+=(m+=65535&U)>>>16)>>>16)>>>16,r[4]=F=65535&x|S<<16,t[4]=N=65535&m|E<<16,m=65535&(U=q),E=U>>>16,x=65535&(M=Z),S=M>>>16,M=r[5],E+=(U=t[5])>>>16,x+=65535&M,S+=M>>>16,S+=(x+=(E+=(m+=65535&U)>>>16)>>>16)>>>16,r[5]=Z=65535&x|S<<16,t[5]=q=65535&m|E<<16,m=65535&(U=D),E=U>>>16,x=65535&(M=z),S=M>>>16,M=r[6],E+=(U=t[6])>>>16,x+=65535&M,S+=M>>>16,S+=(x+=(E+=(m+=65535&U)>>>16)>>>16)>>>16,r[6]=z=65535&x|S<<16,t[6]=D=65535&m|E<<16,m=65535&(U=G),E=U>>>16,x=65535&(M=R),S=M>>>16,M=r[7],E+=(U=t[7])>>>16,x+=65535&M,S+=M>>>16,S+=(x+=(E+=(m+=65535&U)>>>16)>>>16)>>>16,r[7]=R=65535&x|S<<16,t[7]=G=65535&m|E<<16,j+=128,e-=128}return e}function W(r,t,n){var e,o=new Int32Array(8),f=new Int32Array(8),i=new Uint8Array(256),a=n;for(o[0]=1779033703,o[1]=3144134277,o[2]=1013904242,o[3]=2773480762,o[4]=1359893119,o[5]=2600822924,o[6]=528734635,o[7]=1541459225,f[0]=4089235720,f[1]=2227873595,f[2]=4271175723,f[3]=1595750129,f[4]=2917565137,f[5]=725511199,f[6]=4215389547,f[7]=327033209,Q(o,f,t,n),n%=128,e=0;e<n;e++)i[e]=t[a-n+e];for(i[n]=128,i[(n=256-128*(n<112?1:0))-9]=0,h(i,n-8,a/536870912|0,a<<3),Q(o,f,i,n),e=0;e<8;e++)h(r,8*e,o[e],f[e]);return 0}function $(r,t){var n=b(),e=b(),o=b(),f=b(),i=b(),a=b(),h=b(),s=b(),u=b();I(n,r[1],r[0]),I(u,t[1],t[0]),O(n,n,u),P(e,r[0],r[1]),P(u,t[0],t[1]),O(e,e,u),O(o,r[3],t[3]),O(o,o,c),O(f,r[2],t[2]),P(f,f,f),I(i,e,n),I(a,f,o),P(h,f,o),P(s,e,n),O(r[0],i,a),O(r[1],s,h),O(r[2],h,a),O(r[3],i,s)}function rr(r,t,n){var e;for(e=0;e<4;e++)T(r[e],t[e],n)}function tr(r,t){var n=b(),e=b(),o=b();N(o,t[2]),O(n,t[0],o),O(e,t[1],o),F(r,e),r[31]^=z(n)<<7}function nr(r,t,n){var e,o;for(K(r[0],d),K(r[1],A),K(r[2],A),K(r[3],d),o=255;0<=o;--o)rr(r,t,e=n[o/8|0]>>(7&o)&1),$(t,r),$(r,r),rr(r,t,e)}function er(r,t){var n=[b(),b(),b(),b()];K(n[0],e),K(n[1],a),K(n[2],A),O(n[3],e,a),nr(r,n,t)}function or(r,t,n){var e,o=new Uint8Array(64),f=[b(),b(),b(),b()];for(n||i(t,32),W(o,t,32),o[0]&=248,o[31]&=127,o[31]|=64,er(f,o),tr(r,f),e=0;e<32;e++)t[e+32]=r[e];return 0}var fr=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]);function ir(r,t){var n,e,o,f;for(e=63;32<=e;--e){for(n=0,o=e-32,f=e-12;o<f;++o)t[o]+=n-16*t[e]*fr[o-(e-32)],n=t[o]+128>>8,t[o]-=256*n;t[o]+=n,t[e]=0}for(o=n=0;o<32;o++)t[o]+=n-(t[31]>>4)*fr[o],n=t[o]>>8,t[o]&=255;for(o=0;o<32;o++)t[o]-=n*fr[o];for(e=0;e<32;e++)t[e+1]+=t[e]>>8,r[e]=255&t[e]}function ar(r){var t,n=new Float64Array(64);for(t=0;t<64;t++)n[t]=r[t];for(t=0;t<64;t++)r[t]=0;ir(r,n)}function hr(r,t,n,e){var o,f,i=new Uint8Array(64),a=new Uint8Array(64),h=new Uint8Array(64),s=new Float64Array(64),u=[b(),b(),b(),b()];W(i,e,32),i[0]&=248,i[31]&=127,i[31]|=64;var c=n+64;for(o=0;o<n;o++)r[64+o]=t[o];for(o=0;o<32;o++)r[32+o]=i[32+o];for(W(h,r.subarray(32),n+32),ar(h),er(u,h),tr(r,u),o=32;o<64;o++)r[o]=e[o];for(W(a,r,n+64),ar(a),o=0;o<64;o++)s[o]=0;for(o=0;o<32;o++)s[o]=h[o];for(o=0;o<32;o++)for(f=0;f<32;f++)s[o+f]+=a[o]*i[f];return ir(r.subarray(32),s),c}function sr(r,t,n,e){var o,f,i,a,h,s,u,c,l,g,y=new Uint8Array(32),v=new Uint8Array(64),w=[b(),b(),b(),b()],p=[b(),b(),b(),b()];if(n<64)return-1;if(f=p,i=e,a=b(),h=b(),s=b(),u=b(),c=b(),l=b(),g=b(),K(f[2],A),R(f[1],i),C(s,f[1]),O(u,s,_),I(s,s,f[2]),P(u,f[2],u),C(c,u),C(l,c),O(g,l,c),O(a,g,s),O(a,a,u),q(a,a),O(a,a,s),O(a,a,u),O(a,a,u),O(f[0],a,u),C(h,f[0]),O(h,h,u),Z(h,s)&&O(f[0],f[0],M),C(h,f[0]),O(h,h,u),Z(h,s)?-1:(z(f[0])===i[31]>>7&&I(f[0],d,f[0]),O(f[3],f[0],f[1]),0))return-1;for(o=0;o<n;o++)r[o]=t[o];for(o=0;o<32;o++)r[o+32]=e[o];if(W(v,r,n),ar(v),nr(w,p,v),er(p,t.subarray(32)),$(w,p),tr(y,w),n-=64,U(t,0,y,0)){for(o=0;o<n;o++)r[o]=0;return-1}for(o=0;o<n;o++)r[o]=t[o+64];return n}function ur(r,t){if(32!==r.length)throw new Error("bad key size");if(24!==t.length)throw new Error("bad nonce size")}function cr(){for(var r=0;r<arguments.length;r++)if(!(arguments[r]instanceof Uint8Array))throw new TypeError("unexpected type, use Uint8Array")}function lr(r){for(var t=0;t<r.length;t++)r[t]=0}f.lowlevel={crypto_core_hsalsa20:g,crypto_stream_xor:E,crypto_stream:m,crypto_stream_salsa20_xor:w,crypto_stream_salsa20:p,crypto_onetimeauth:S,crypto_onetimeauth_verify:k,crypto_verify_16:u,crypto_verify_32:U,crypto_secretbox:B,crypto_secretbox_open:L,crypto_scalarmult:D,crypto_scalarmult_base:G,crypto_box_beforenm:V,crypto_box_afternm:X,crypto_box:function(r,t,n,e,o,f){var i=new Uint8Array(32);return V(i,o,f),X(r,t,n,e,i)},crypto_box_open:function(r,t,n,e,o,f){var i=new Uint8Array(32);return V(i,o,f),H(r,t,n,e,i)},crypto_box_keypair:j,crypto_hash:W,crypto_sign:hr,crypto_sign_keypair:or,crypto_sign_open:sr,crypto_secretbox_KEYBYTES:32,crypto_secretbox_NONCEBYTES:24,crypto_secretbox_ZEROBYTES:32,crypto_secretbox_BOXZEROBYTES:16,crypto_scalarmult_BYTES:32,crypto_scalarmult_SCALARBYTES:32,crypto_box_PUBLICKEYBYTES:32,crypto_box_SECRETKEYBYTES:32,crypto_box_BEFORENMBYTES:32,crypto_box_NONCEBYTES:24,crypto_box_ZEROBYTES:32,crypto_box_BOXZEROBYTES:16,crypto_sign_BYTES:64,crypto_sign_PUBLICKEYBYTES:32,crypto_sign_SECRETKEYBYTES:64,crypto_sign_SEEDBYTES:32,crypto_hash_BYTES:64,gf:b,D:_,L:fr,pack25519:F,unpack25519:R,M:O,A:P,S:C,Z:I,pow2523:q,add:$,set25519:K,modL:ir,scalarmult:nr,scalarbase:er},f.randomBytes=function(r){var t=new Uint8Array(r);return i(t,r),t},f.secretbox=function(r,t,n){cr(r,t,n),ur(n,t);for(var e=new Uint8Array(32+r.length),o=new Uint8Array(e.length),f=0;f<r.length;f++)e[f+32]=r[f];return B(o,e,e.length,t,n),o.subarray(16)},f.secretbox.open=function(r,t,n){cr(r,t,n),ur(n,t);for(var e=new Uint8Array(16+r.length),o=new Uint8Array(e.length),f=0;f<r.length;f++)e[f+16]=r[f];return e.length<32?null:0!==L(o,e,e.length,t,n)?null:o.subarray(32)},f.secretbox.keyLength=32,f.secretbox.nonceLength=24,f.secretbox.overheadLength=16,f.scalarMult=function(r,t){if(cr(r,t),32!==r.length)throw new Error("bad n size");if(32!==t.length)throw new Error("bad p size");var n=new Uint8Array(32);return D(n,r,t),n},f.scalarMult.base=function(r){if(cr(r),32!==r.length)throw new Error("bad n size");var t=new Uint8Array(32);return G(t,r),t},f.scalarMult.scalarLength=32,f.scalarMult.groupElementLength=32,f.box=function(r,t,n,e){var o=f.box.before(n,e);return f.secretbox(r,t,o)},f.box.before=function(r,t){cr(r,t),function(r,t){if(32!==r.length)throw new Error("bad public key size");if(32!==t.length)throw new Error("bad secret key size")}(r,t);var n=new Uint8Array(32);return V(n,r,t),n},f.box.after=f.secretbox,f.box.open=function(r,t,n,e){var o=f.box.before(n,e);return f.secretbox.open(r,t,o)},f.box.open.after=f.secretbox.open,f.box.keyPair=function(){var r=new Uint8Array(32),t=new Uint8Array(32);return j(r,t),{publicKey:r,secretKey:t}},f.box.keyPair.fromSecretKey=function(r){if(cr(r),32!==r.length)throw new Error("bad secret key size");var t=new Uint8Array(32);return G(t,r),{publicKey:t,secretKey:new Uint8Array(r)}},f.box.publicKeyLength=32,f.box.secretKeyLength=32,f.box.sharedKeyLength=32,f.box.nonceLength=24,f.box.overheadLength=f.secretbox.overheadLength,f.sign=function(r,t){if(cr(r,t),64!==t.length)throw new Error("bad secret key size");var n=new Uint8Array(64+r.length);return hr(n,r,r.length,t),n},f.sign.open=function(r,t){if(cr(r,t),32!==t.length)throw new Error("bad public key size");var n=new Uint8Array(r.length),e=sr(n,r,r.length,t);if(e<0)return null;for(var o=new Uint8Array(e),f=0;f<o.length;f++)o[f]=n[f];return o},f.sign.detached=function(r,t){for(var n=f.sign(r,t),e=new Uint8Array(64),o=0;o<e.length;o++)e[o]=n[o];return e},f.sign.detached.verify=function(r,t,n){if(cr(r,t,n),64!==t.length)throw new Error("bad signature size");if(32!==n.length)throw new Error("bad public key size");var e,o=new Uint8Array(64+r.length),f=new Uint8Array(64+r.length);for(e=0;e<64;e++)o[e]=t[e];for(e=0;e<r.length;e++)o[e+64]=r[e];return 0<=sr(f,o,o.length,n)},f.sign.keyPair=function(){var r=new Uint8Array(32),t=new Uint8Array(64);return or(r,t),{publicKey:r,secretKey:t}},f.sign.keyPair.fromSecretKey=function(r){if(cr(r),64!==r.length)throw new Error("bad secret key size");for(var t=new Uint8Array(32),n=0;n<t.length;n++)t[n]=r[32+n];return{publicKey:t,secretKey:new Uint8Array(r)}},f.sign.keyPair.fromSeed=function(r){if(cr(r),32!==r.length)throw new Error("bad seed size");for(var t=new Uint8Array(32),n=new Uint8Array(64),e=0;e<32;e++)n[e]=r[e];return or(t,n,!0),{publicKey:t,secretKey:n}},f.sign.publicKeyLength=32,f.sign.secretKeyLength=64,f.sign.seedLength=32,f.sign.signatureLength=64,f.hash=function(r){cr(r);var t=new Uint8Array(64);return W(t,r,r.length),t},f.hash.hashLength=64,f.verify=function(r,t){return cr(r,t),0!==r.length&&0!==t.length&&(r.length===t.length&&0===s(r,0,t,0,r.length))},f.setPRNG=function(r){i=r},function(){var o="undefined"!=typeof self?self.crypto||self.msCrypto:null;if(o&&o.getRandomValues){f.setPRNG(function(r,t){var n,e=new Uint8Array(t);for(n=0;n<t;n+=65536)o.getRandomValues(e.subarray(n,n+Math.min(t-n,65536)));for(n=0;n<t;n++)r[n]=e[n];lr(e)})}else(o=t)&&o.randomBytes&&f.setPRNG(function(r,t){var n,e=o.randomBytes(t);for(n=0;n<t;n++)r[n]=e[n];lr(e)})}()}(r.exports?r.exports:self.nacl=self.nacl||{})}(n={exports:{}},n.exports),n.exports);"undefined"!=typeof require?require("crypto"):window.crypto||window.msCrypto;var e={},o={},A=i.lowlevel,_=A.gf([1]),f=new Float64Array([235,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]);function a(r,t,n){var e,o,f=new Float64Array(64);for(e=0;e<64;e++)f[e]=0;for(e=0;e<32;e++)for(o=0;o<32;o++)f[e+o]+=t[e]*n[o];A.modL(r,f)}var M=A.gf([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]),p=A.gf([11803,18811,63136,32407,21693,7032,36364,44957,53757,12789,64713,3900,18604,11139,12735,14185]),U=A.gf([16618,32861,64938,39368,29374,23105,5655,40239,55360,65025,31633,5826,64674,53167,35077,30828]),b=A.gf([49526,37983,2497,57980,13583,52574,41272,11393,57316,48752,43997,39316,57559,45747,29352,656]),d=A.gf([19744,17645,23210,12717,6553,45086,18988,53918,20203,21147,54063,19676,8769,63084,45946,22888]);function g(r){var t=new Uint8Array(32);A.pack25519(t,r);for(var n=1,e=0;e<32;e++)n&=0==t[e];return n}function m(r,t,n){for(var e,o=-n,f=0;f<16;f++)e=r[f]^t[f],e&=o,r[f]^=e}function E(r){var t=new Uint8Array(32);return A.pack25519(t,r),1&t[0]}function x(r,t){A.Z(r,A.gf(),t)}function S(r,t,n){var e=A.gf();x(e,t),A.set25519(r,t),m(r,e,n)}function k(r,t){S(r,t,E(t))}function B(r,t,n){var e,o,f,i=A.gf(),a=A.gf(),h=A.gf(),s=A.gf(),u=A.gf(),c=A.gf();return A.S(i,n),A.M(i,i,n),A.S(r,i),A.M(r,r,n),A.M(r,r,t),A.pow2523(r,r),A.M(r,r,i),A.M(r,r,t),A.S(a,r),A.M(a,a,n),A.Z(h,a,t),A.A(s,a,t),A.M(u,t,M),A.A(u,a,u),e=g(h),o=g(s),f=g(u),A.M(c,r,M),m(r,c,o|f),k(r,r),e|o}function h(r){var t,n=A.gf(),e=A.gf(),o=A.gf(),f=A.gf(),i=A.gf(),a=A.gf(),h=A.gf(),s=(A.gf(),A.gf()),u=A.gf(),c=A.gf(),l=A.gf(),g=A.gf(),y=A.gf(),v=A.gf(),w=A.gf(),p=A.gf(),b=A.gf(),d=new Uint8Array(32);return A.A(c,r[2],r[1]),A.Z(b,r[2],r[1]),A.M(c,c,b),A.M(l,r[0],r[1]),A.S(g,l),A.M(g,c,g),B(i,_,g),A.M(n,i,c),A.M(e,i,l),A.M(p,n,e),A.M(p,p,r[3]),A.M(a,r[0],M),A.M(h,r[1],M),A.M(f,n,U),A.M(u,r[3],p),t=E(u),y=A.gf(r[0]),v=A.gf(r[1]),o=A.gf(e),m(y,h,t),m(v,a,t),m(o,f,t),A.M(w,y,p),S(v,v,E(w)),A.Z(s,r[2],v),A.M(s,o,s),k(s,s),A.pack25519(d,s),d}function s(r,t){var n,e=A.gf(),o=A.gf(),f=A.gf(),i=A.gf(),a=A.gf(),h=A.gf(),s=A.gf(),u=A.gf(),c=A.gf(),l=A.gf();return 0==function(r){var t,n;for(t=127&r[31]^127,n=30;0<n;n--)t|=255^r[n];return 1-(1&((t=(0|t)-1>>8)&236-(0|r[0])>>8|r[0]))}(t)?-1:(A.unpack25519(f,t),A.S(i,f),A.set25519(a,_),A.Z(a,a,i),A.S(s,a),A.set25519(h,_),A.A(h,h,i),A.S(u,h),A.M(c,A.D,s),x(c,c),A.Z(c,c,u),A.M(l,c,u),A.set25519(o,_),n=B(e,o,l),A.M(r[0],e,h),A.M(r[1],e,r[0]),A.M(r[1],r[1],c),A.M(r[0],r[0],f),A.A(r[0],r[0],r[0]),k(r[0],r[0]),A.M(r[1],a,r[1]),A.set25519(r[2],_),A.M(r[3],r[0],r[1]),-(1-n|E(r[3])|g(r[1])))}function u(r,t){var n,e=A.gf(),o=A.gf(),f=A.gf(),i=A.gf(),a=A.gf(),h=A.gf(),s=A.gf(),u=A.gf(),c=A.gf(),l=A.gf(),g=A.gf(),y=A.gf(),v=A.gf(),w=A.gf();A.set25519(f,_),A.S(i,t),A.M(i,M,i),A.A(c,i,f),A.M(c,c,b),A.set25519(e,_),x(e,e),A.A(a,i,A.D),A.M(l,i,A.D),A.Z(l,e,l),A.M(l,l,a),n=1-B(h,c,l),A.M(s,h,t),k(s,s),x(s,s),m(h,s,n),m(e,i,n),A.Z(o,i,f),A.M(o,o,e),A.M(o,o,d),A.Z(o,o,l),A.A(g,h,h),A.M(g,g,l),A.M(y,o,p),A.S(u,h),A.Z(v,f,u),A.A(w,f,u),A.M(r[0],g,w),A.M(r[1],v,y),A.M(r[2],y,w),A.M(r[3],g,v)}function c(r){var t=A.gf(),n=A.gf(),e=[A.gf(),A.gf(),A.gf(),A.gf()],o=[A.gf(),A.gf(),A.gf(),A.gf()];return A.unpack25519(t,r.slice(0,32)),A.unpack25519(n,r.slice(32,64)),u(e,t),u(o,n),A.add(e,o),e}function l(r,t){var n=A.gf();x(n,t[3]);var e=A.gf();x(e,t[0]);var o=[e,t[1],t[2],n];A.add(r,o)}function y(){return c(i.randomBytes(64))}function v(r){var t,n=new Float64Array(64);for(t=0;t<32;t++)n[t]=r[t];A.modL(r,n)}function w(r){var t,n=new Float64Array(32);for(t=0;t<32;t++)n[t]=-r[t];return v(n),n}function L(r,t){var n,e=new Float64Array(32);for(n=0;n<32;n++)e[n]=r[n]+t[n];return v(e),e}e.scalarmult_base=function(r){var t=[A.gf(),A.gf(),A.gf(),A.gf()];return A.scalarbase(t,r),h(t)},e.scalarmult=function(r,t){var n=[A.gf(),A.gf(),A.gf(),A.gf()],e=[A.gf(),A.gf(),A.gf(),A.gf()];if(0!=s(e,t))throw"Invalid argument";return A.scalarmult(n,e,r),h(n)},e.is_valid=function(r){return-1==s([A.gf(),A.gf(),A.gf(),A.gf()],r)?0:1},e.add=function(r,t){var n=[A.gf(),A.gf(),A.gf(),A.gf()],e=[A.gf(),A.gf(),A.gf(),A.gf()];if(-1==s(n,r))throw"Invalid argument";if(-1==s(e,t))throw"Invalid argument";var o=[n[0],n[1],n[2],n[3]];return A.add(o,e),h(o)},e.sub=function(r,t){var n=[A.gf(),A.gf(),A.gf(),A.gf()],e=[A.gf(),A.gf(),A.gf(),A.gf()];if(-1==s(n,r))throw"Invalid argument";if(-1==s(e,t))throw"Invalid argument";var o=[n[0],n[1],n[2],n[3]];return l(o,e),h(o)},e.from_hash=function(r){return h(c(r))},e.random=function(){return h(y())},e.scalar_random=function(){var r=new Uint8Array(32),t=0;do{(r=i.randomBytes(32))[31]&=31;for(var n=32,e=1;t|=r[--n]-A.L[n]>>8&e,e&=(r[n]^A.L[n])-1>>8,0!=n;);}while(0==t);var o,f=new Float64Array(32);for(o=0;o<32;o++)f[o]=r[o];return f},e.scalar_invert=function(r){var t=new Float64Array(32);return function(r,t){var n,e,o=new Float64Array(32);for(n=0;n<32;n++)o[n]=t[n];for(n=251;0<=n;n--)a(o,e=o,e),0!=(f[n>>3]>>(7&n)&1)&&a(o,o,t);for(n=0;n<32;n++)r[n]=o[n]}(t,r),t},e.scalar_negate=w,e.scalar_add=L,e.scalar_sub=function(r,t){return L(r,w(t))},e.scalar_mul=function(r,t){var n=new Float64Array(32);return a(n,r,t),n},o.point_from_hash=c,o.tobytes=h,o.frombytes=s,o.point_sub=l,o.point_add=A.add,o.point_scalarmult_base=A.scalarbase,o.point_scalarmult=A.scalarmult,o.point_random=y,o.gf=A.gf,o.constants={},o.constants.L_sub_2=f,o.constants.sqrtm1=M,o.constants.sqrtadm1=p,o.constants.invsqrtamd=U,o.constants.onemsqd=b,o.constants.sqdmone=d,r.default=e,r.unsafe=o,Object.defineProperty(r,"__esModule",{value:!0})});
